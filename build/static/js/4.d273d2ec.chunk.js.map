{"version":3,"sources":["../node_modules/tonva/dist/entry/res/login.js","../node_modules/tonva/dist/entry/res/register.js","../node_modules/tonva/dist/entry/tools.js","../node_modules/tonva/dist/entry/register.js","../node_modules/tonva/dist/entry/login.js"],"names":["loginRes","_","a","registerRes","logo","__webpack_require__","tonvaTop","ui","loginTop","react","className","src","senders","type","caption","regex","getSender","un","find","v","test","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","register_RegisterController","_Controller","RegisterController","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","arguments","accountPageCaption","accountLabel","accountSubmitCaption","passwordPageCaption","passwordSubmitCaption","successText","inherits","createClass","key","regenerator_default","mark","_callee","wrap","_context","prev","openVPage","register_AccountPage","stop","account","register_VerifyPage","register_PasswordPage","register_RegSuccess","_this2","userApi","login","user","pwd","password","guest","retUser","_callee2","_context2","undefined","alert","abrupt","logined","registerReturn","msg","_callee3","ret","error","_context3","isExists","sent","accountError","setVerify","toVerify","_callee4","params","_context4","nick","country","mobile","mobileCountry","email","verify","t0","Number","register","clear","toSuccess","regReturn","register_ForgetController","_RegisterController","ForgetController","_this3","_callee5","_context5","resetPassword","_VPage","AccountPage","_this4","schema","name","required","maxLength","res","page","header","controller","style","marginLeft","marginRight","uiSchema","onButtonClick","onSubmit","onEnter","requiredFlag","context","assertThisInitialized","_callee6","sender","_context6","clearContextErrors","getValue","setError","length","checkAccount","_callee7","_context7","_callee8","_context8","items","widget","label","placeholder","openPage","_VPage2","VerifyPage","_this5","onVerifyChanged","setDisabled","onChanged","submit","disabled","_callee9","_context9","checkVerify","toPassword","_callee10","_context10","typeText","extra","_callee11","_context11","_VPage3","PasswordPage","_this6","_callee12","values","rePwd","_context12","form","data","setValue","execute","_callee13","_context13","_callee14","_context14","_VPage4","RegSuccess","_this7","_this7$controller","onClick","_callee15","_context15","d","__webpack_exports__","login_Login","login_awaiter","_React$Component","Login","username","console","log","token","props","callback","clickReg","start","clickForget","footer","color","margin","withBack"],"mappings":"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","file":"static/js/4.d273d2ec.chunk.js","sourcesContent":["export var loginRes = {\n  _: {\n    a: 'd'\n  }\n};","export var registerRes = {\n  _: {\n    a: 'd'\n  }\n};","import * as React from 'react';\nimport { nav, mobileRegex, emailRegex } from '../ui';\n\nvar logo = require('../img/logo.svg');\n\nexport function tonvaTop() {\n  return nav.loginTop(React.createElement(\"div\", {\n    className: \"d-flex align-items-center\"\n  }, React.createElement(\"img\", {\n    className: \"App-logo h-3c position-absolute\",\n    src: logo\n  }), React.createElement(\"div\", {\n    className: \"h3 flex-fill text-center\"\n  }, React.createElement(\"span\", {\n    className: \"text-primary mr-3\"\n  }, \"\\u540C\"), React.createElement(\"span\", {\n    className: \"text-danger\"\n  }, \"\\u82B1\"))));\n}\nvar senders = [{\n  type: 'mobile',\n  caption: '手机号',\n  regex: mobileRegex\n}, {\n  type: 'email',\n  caption: '邮箱',\n  regex: emailRegex\n}];\nexport function getSender(un) {\n  var sender = senders.find(function (v) {\n    return v.regex.test(un) === true;\n  });\n  return sender;\n}","import _assertThisInitialized from \"D:\\\\Web\\\\mi\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _regeneratorRuntime from \"D:\\\\Web\\\\mi\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _classCallCheck from \"D:\\\\Web\\\\mi\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Web\\\\mi\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Web\\\\mi\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Web\\\\mi\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Web\\\\mi\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport * as React from 'react';\nimport { nav, Page, Form, resLang, Controller, VPage } from '../ui';\nimport { userApi } from './userApi';\nimport '../css/va-form.css';\nimport { registerRes } from './res';\nimport { tonvaTop, getSender } from './tools';\n/*\r\nclass AccountInput extends TextWidget {\r\n    @observable private buttonDisabled: boolean = true;\r\n    private onClick = () => {\r\n        let {onButtonClick} = this.context.form.props;\r\n        if (onButtonClick === undefined) return;\r\n        onButtonClick(this.name, this.context);\r\n    }\r\n    protected onChange(evt: React.ChangeEvent<any>) {\r\n        this.buttonDisabled = (evt.target.value.trim().length === 0);\r\n    }\r\n    render() {\r\n        return <>\r\n            <div className=\"input-group\">\r\n                <input ref={input=>this.input = input}\r\n                            className=\"form-control\"\r\n                            type={this.inputType}\r\n                            defaultValue={this.value}\r\n                            onChange={(evt: React.ChangeEvent<any>) => this.onChange(evt)}\r\n                            placeholder='手机号/邮箱'\r\n                            readOnly={this.readOnly}\r\n                            disabled={this.disabled}\r\n                            onKeyDown = {this.onKeyDown}\r\n                            onFocus = {(evt: React.FocusEvent<any>) => this.onFocus(evt)}\r\n                            onBlur={(evt: React.FocusEvent<any>) => this.onBlur(evt)}\r\n                            maxLength={(this.itemSchema as StringSchema).maxLength} />\r\n                <div className=\"input-group-append\">\r\n                    <button className=\"btn btn-sm btn-outline-primary\"\r\n                        type=\"button\" disabled={this.buttonDisabled}\r\n                        onClick={this.onClick}>\r\n                        <small>发送验证码</small>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            {this.renderErrors()}\r\n        </>;\r\n    }\r\n}\r\n*/\n\nexport var RegisterController =\n/*#__PURE__*/\nfunction (_Controller) {\n  _inherits(RegisterController, _Controller);\n\n  function RegisterController() {\n    var _this;\n\n    _classCallCheck(this, RegisterController);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RegisterController).apply(this, arguments));\n    _this.accountPageCaption = '注册账号';\n    _this.accountLabel = '注册账号';\n    _this.accountSubmitCaption = '注册新账号';\n    _this.passwordPageCaption = '账号密码';\n    _this.passwordSubmitCaption = '注册新账号';\n    _this.successText = '注册成功';\n    return _this;\n  }\n\n  _createClass(RegisterController, [{\n    key: \"internalStart\",\n    value: function internalStart() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.openVPage(AccountPage);\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    }\n  }, {\n    key: \"toVerify\",\n    value: function toVerify(account) {\n      this.account = account;\n      this.openVPage(VerifyPage);\n    }\n  }, {\n    key: \"toPassword\",\n    value: function toPassword() {\n      this.openVPage(PasswordPage);\n    }\n  }, {\n    key: \"toSuccess\",\n    value: function toSuccess() {\n      this.openVPage(RegSuccess);\n    }\n  }, {\n    key: \"login\",\n    value: function login() {\n      var _this2 = this;\n\n      userApi.login({\n        user: this.account,\n        pwd: this.password,\n        guest: nav.guest\n      }).then(function (retUser) {\n        return __awaiter(_this2, void 0, void 0,\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee2() {\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (!(retUser === undefined)) {\n                    _context2.next = 3;\n                    break;\n                  }\n\n                  alert('something wrong!');\n                  return _context2.abrupt(\"return\");\n\n                case 3:\n                  _context2.next = 5;\n                  return nav.logined(retUser);\n\n                case 5:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n      });\n    }\n  }, {\n    key: \"regReturn\",\n    value: function regReturn(registerReturn) {\n      var msg;\n\n      switch (registerReturn) {\n        default:\n          throw 'unknown return';\n\n        case 0:\n          return;\n\n        case 1:\n          msg = '用户名 ' + this.account;\n          break;\n\n        case 2:\n          msg = '手机号 +' + this.account;\n          break;\n\n        case 3:\n          msg = '邮箱 ' + this.account;\n          break;\n      }\n\n      return msg + ' 已经被注册过了';\n    }\n  }, {\n    key: \"checkAccount\",\n    value: function checkAccount() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var ret, error;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return userApi.isExists(this.account);\n\n              case 2:\n                ret = _context3.sent;\n                error = this.accountError(ret);\n\n                if (!(error !== undefined)) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", error);\n\n              case 6:\n                _context3.next = 8;\n                return userApi.setVerify(this.account, this.type);\n\n              case 8:\n                ret = _context3.sent;\n                this.toVerify(this.account);\n                return _context3.abrupt(\"return\");\n\n              case 11:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n    }\n  }, {\n    key: \"accountError\",\n    value: function accountError(isExists) {\n      if (isExists > 0) return '已经被注册使用了';\n    }\n  }, {\n    key: \"execute\",\n    value: function execute() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var params, ret;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                params = {\n                  nick: undefined,\n                  user: this.account,\n                  pwd: this.password,\n                  country: undefined,\n                  mobile: undefined,\n                  mobileCountry: undefined,\n                  email: undefined,\n                  verify: this.verify\n                };\n                _context4.t0 = this.type;\n                _context4.next = _context4.t0 === 'mobile' ? 4 : _context4.t0 === 'email' ? 7 : 9;\n                break;\n\n              case 4:\n                params.mobile = Number(this.account);\n                params.mobileCountry = 86;\n                return _context4.abrupt(\"break\", 9);\n\n              case 7:\n                params.email = this.account;\n                return _context4.abrupt(\"break\", 9);\n\n              case 9:\n                _context4.next = 11;\n                return userApi.register(params);\n\n              case 11:\n                ret = _context4.sent;\n\n                if (!(ret === 0)) {\n                  _context4.next = 16;\n                  break;\n                }\n\n                nav.clear();\n                this.toSuccess();\n                return _context4.abrupt(\"return\");\n\n              case 16:\n                return _context4.abrupt(\"return\", this.regReturn(ret));\n\n              case 17:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n    }\n  }]);\n\n  return RegisterController;\n}(Controller);\nexport var ForgetController =\n/*#__PURE__*/\nfunction (_RegisterController) {\n  _inherits(ForgetController, _RegisterController);\n\n  function ForgetController() {\n    var _this3;\n\n    _classCallCheck(this, ForgetController);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(ForgetController).apply(this, arguments));\n    _this3.accountPageCaption = '密码找回';\n    _this3.accountLabel = '账号';\n    _this3.accountSubmitCaption = '注册新账号';\n    _this3.passwordPageCaption = '重置密码';\n    _this3.passwordSubmitCaption = '提交';\n    _this3.successText = '成功修改密码';\n    return _this3;\n  }\n\n  _createClass(ForgetController, [{\n    key: \"execute\",\n    value: function execute() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5() {\n        var ret;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return userApi.resetPassword(this.account, this.password, this.verify, this.type);\n\n              case 2:\n                ret = _context5.sent;\n                nav.clear();\n                this.toSuccess();\n                return _context5.abrupt(\"return\", undefined);\n\n              case 6:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n    }\n  }, {\n    key: \"accountError\",\n    value: function accountError(isExists) {\n      if (isExists === 0) return '请输入正确的账号';\n    }\n  }]);\n\n  return ForgetController;\n}(RegisterController);\n\nvar AccountPage =\n/*#__PURE__*/\nfunction (_VPage) {\n  _inherits(AccountPage, _VPage);\n\n  function AccountPage() {\n    var _this4;\n\n    _classCallCheck(this, AccountPage);\n\n    _this4 = _possibleConstructorReturn(this, _getPrototypeOf(AccountPage).apply(this, arguments));\n    _this4.schema = [{\n      name: 'user',\n      type: 'string',\n      required: true,\n      maxLength: 100\n    }, {\n      name: 'verify',\n      type: 'submit'\n    }];\n    _this4.res = resLang(registerRes);\n\n    _this4.page = function () {\n      return React.createElement(Page, {\n        header: _this4.controller.accountPageCaption\n      }, React.createElement(\"div\", {\n        className: \"w-max-20c my-5 py-5\",\n        style: {\n          marginLeft: 'auto',\n          marginRight: 'auto'\n        }\n      }, tonvaTop(), React.createElement(\"div\", {\n        className: \"h-3c\"\n      }), React.createElement(Form, {\n        schema: _this4.schema,\n        uiSchema: _this4.uiSchema,\n        onButtonClick: _this4.onSubmit,\n        onEnter: _this4.onEnter,\n        requiredFlag: false\n      })));\n    };\n\n    _this4.onSubmit = function (name, context) {\n      return __awaiter(_assertThisInitialized(_assertThisInitialized(_this4)), void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6() {\n        var user, value, sender, type, ret;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                context.clearContextErrors();\n                user = 'user';\n                value = context.getValue(user);\n                sender = getSender(value);\n\n                if (!(sender === undefined)) {\n                  _context6.next = 7;\n                  break;\n                }\n\n                context.setError(user, '必须是手机号或邮箱');\n                return _context6.abrupt(\"return\");\n\n              case 7:\n                type = sender.type;\n\n                if (!(type === 'mobile')) {\n                  _context6.next = 12;\n                  break;\n                }\n\n                if (!(value.length !== 11 || value[0] !== '1')) {\n                  _context6.next = 12;\n                  break;\n                }\n\n                context.setError(user, '请输入正确的手机号');\n                return _context6.abrupt(\"return\");\n\n              case 12:\n                this.controller.account = value;\n                this.controller.type = type;\n                _context6.next = 16;\n                return this.controller.checkAccount();\n\n              case 16:\n                ret = _context6.sent;\n                if (ret !== undefined) context.setError(user, ret);\n\n              case 18:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n    };\n\n    _this4.onEnter = function (name, context) {\n      return __awaiter(_assertThisInitialized(_assertThisInitialized(_this4)), void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7() {\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!(name === 'user')) {\n                  _context7.next = 4;\n                  break;\n                }\n\n                _context7.next = 3;\n                return this.onSubmit('verify', context);\n\n              case 3:\n                return _context7.abrupt(\"return\", _context7.sent);\n\n              case 4:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n    };\n\n    return _this4;\n  }\n\n  _createClass(AccountPage, [{\n    key: \"open\",\n    value: function open() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee8() {\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                this.uiSchema = {\n                  items: {\n                    user: {\n                      widget: 'text',\n                      label: this.controller.accountLabel,\n                      placeholder: '手机号或邮箱'\n                    },\n                    verify: {\n                      widget: 'button',\n                      className: 'btn btn-primary btn-block mt-3',\n                      label: '发送验证码'\n                    }\n                  }\n                };\n                this.openPage(this.page);\n\n              case 2:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n    }\n  }]);\n\n  return AccountPage;\n}(VPage);\n\nvar VerifyPage =\n/*#__PURE__*/\nfunction (_VPage2) {\n  _inherits(VerifyPage, _VPage2);\n\n  function VerifyPage() {\n    var _this5;\n\n    _classCallCheck(this, VerifyPage);\n\n    _this5 = _possibleConstructorReturn(this, _getPrototypeOf(VerifyPage).apply(this, arguments));\n    _this5.schema = [{\n      name: 'verify',\n      type: 'number',\n      required: true,\n      maxLength: 6\n    }, {\n      name: 'submit',\n      type: 'submit'\n    }];\n\n    _this5.onVerifyChanged = function (context, value, prev) {\n      context.setDisabled('submit', !value || value.length != 6);\n    };\n\n    _this5.uiSchema = {\n      items: {\n        verify: {\n          widget: 'text',\n          label: '验证码',\n          placeholder: '请输入验证码',\n          onChanged: _this5.onVerifyChanged\n        },\n        submit: {\n          widget: 'button',\n          className: 'btn btn-primary btn-block mt-3',\n          label: '下一步 >',\n          disabled: true\n        }\n      }\n    };\n\n    _this5.onSubmit = function (name, context) {\n      return __awaiter(_assertThisInitialized(_assertThisInitialized(_this5)), void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee9() {\n        var verify, ret;\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                verify = this.controller.verify = context.getValue('verify');\n                _context9.next = 3;\n                return userApi.checkVerify(this.controller.account, verify);\n\n              case 3:\n                ret = _context9.sent;\n\n                if (!(ret === 0)) {\n                  _context9.next = 7;\n                  break;\n                }\n\n                context.setError('verify', '验证码错误');\n                return _context9.abrupt(\"return\");\n\n              case 7:\n                this.controller.toPassword();\n\n              case 8:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n    };\n\n    _this5.onEnter = function (name, context) {\n      return __awaiter(_assertThisInitialized(_assertThisInitialized(_this5)), void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee10() {\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                if (!(name === 'verify')) {\n                  _context10.next = 4;\n                  break;\n                }\n\n                _context10.next = 3;\n                return this.onSubmit('submit', context);\n\n              case 3:\n                return _context10.abrupt(\"return\", _context10.sent);\n\n              case 4:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n    };\n\n    _this5.page = function () {\n      var typeText, extra;\n\n      switch (_this5.controller.type) {\n        case 'mobile':\n          typeText = '手机号';\n          break;\n\n        case 'email':\n          typeText = '邮箱';\n          extra = React.createElement(React.Fragment, null, React.createElement(\"span\", {\n            className: \"text-danger\"\n          }, \"\\u6CE8\\u610F\"), \": \\u6709\\u53EF\\u80FD\\u8BEF\\u4E3A\\u5783\\u573E\\u90AE\\u4EF6\\uFF0C\\u8BF7\\u68C0\\u67E5\", React.createElement(\"br\", null));\n          break;\n      }\n\n      return React.createElement(Page, {\n        header: \"\\u9A8C\\u8BC1\\u7801\"\n      }, React.createElement(\"div\", {\n        className: \"w-max-20c my-5 py-5\",\n        style: {\n          marginLeft: 'auto',\n          marginRight: 'auto'\n        }\n      }, \"\\u9A8C\\u8BC1\\u7801\\u5DF2\\u7ECF\\u53D1\\u9001\\u5230\", typeText, React.createElement(\"br\", null), React.createElement(\"div\", {\n        className: \"py-2 px-3 my-2 text-primary bg-light\"\n      }, React.createElement(\"b\", null, _this5.controller.account)), extra, React.createElement(\"div\", {\n        className: \"h-1c\"\n      }), React.createElement(Form, {\n        schema: _this5.schema,\n        uiSchema: _this5.uiSchema,\n        onButtonClick: _this5.onSubmit,\n        onEnter: _this5.onEnter,\n        requiredFlag: false\n      })));\n    };\n\n    return _this5;\n  }\n\n  _createClass(VerifyPage, [{\n    key: \"open\",\n    value: function open() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee11() {\n        return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                this.openPage(this.page);\n\n              case 1:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n    }\n  }]);\n\n  return VerifyPage;\n}(VPage);\n\nvar PasswordPage =\n/*#__PURE__*/\nfunction (_VPage3) {\n  _inherits(PasswordPage, _VPage3);\n\n  function PasswordPage() {\n    var _this6;\n\n    _classCallCheck(this, PasswordPage);\n\n    _this6 = _possibleConstructorReturn(this, _getPrototypeOf(PasswordPage).apply(this, arguments));\n    _this6.schema = [{\n      name: 'pwd',\n      type: 'string',\n      required: true,\n      maxLength: 100\n    }, {\n      name: 'rePwd',\n      type: 'string',\n      required: true,\n      maxLength: 100\n    }, {\n      name: 'submit',\n      type: 'submit'\n    }];\n\n    _this6.onSubmit = function (name, context) {\n      return __awaiter(_assertThisInitialized(_assertThisInitialized(_this6)), void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee12() {\n        var values, pwd, rePwd;\n        return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                values = context.form.data;\n                pwd = values.pwd, rePwd = values.rePwd;\n\n                if (!(!pwd || pwd !== rePwd)) {\n                  _context12.next = 6;\n                  break;\n                }\n\n                context.setValue('pwd', '');\n                context.setValue('rePwd', '');\n                return _context12.abrupt(\"return\", '密码错误，请重新输入密码！');\n\n              case 6:\n                this.controller.password = pwd;\n                _context12.next = 9;\n                return this.controller.execute();\n\n              case 9:\n                return _context12.abrupt(\"return\", _context12.sent);\n\n              case 10:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n    };\n\n    _this6.onEnter = function (name, context) {\n      return __awaiter(_assertThisInitialized(_assertThisInitialized(_this6)), void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee13() {\n        return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                if (!(name === 'rePwd')) {\n                  _context13.next = 4;\n                  break;\n                }\n\n                _context13.next = 3;\n                return this.onSubmit('submit', context);\n\n              case 3:\n                return _context13.abrupt(\"return\", _context13.sent);\n\n              case 4:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n    };\n\n    _this6.page = function () {\n      return React.createElement(Page, {\n        header: _this6.controller.passwordPageCaption\n      }, React.createElement(\"div\", {\n        className: \"w-max-20c my-5 py-5\",\n        style: {\n          marginLeft: 'auto',\n          marginRight: 'auto'\n        }\n      }, \"\\u6CE8\\u518C\\u8D26\\u53F7\", React.createElement(\"br\", null), React.createElement(\"div\", {\n        className: \"py-2 px-3 my-2 text-primary bg-light\"\n      }, React.createElement(\"b\", null, _this6.controller.account)), React.createElement(\"div\", {\n        className: \"h-1c\"\n      }), React.createElement(Form, {\n        schema: _this6.schema,\n        uiSchema: _this6.uiSchema,\n        onButtonClick: _this6.onSubmit,\n        onEnter: _this6.onEnter,\n        requiredFlag: false\n      })));\n    };\n\n    return _this6;\n  }\n\n  _createClass(PasswordPage, [{\n    key: \"open\",\n    value: function open() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee14() {\n        return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                this.uiSchema = {\n                  items: {\n                    pwd: {\n                      widget: 'password',\n                      placeholder: '密码',\n                      label: '密码'\n                    },\n                    rePwd: {\n                      widget: 'password',\n                      placeholder: '重复密码',\n                      label: '重复密码'\n                    },\n                    submit: {\n                      widget: 'button',\n                      className: 'btn btn-primary btn-block mt-3',\n                      label: this.controller.passwordSubmitCaption\n                    }\n                  }\n                };\n                this.openPage(this.page);\n\n              case 2:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n    }\n  }]);\n\n  return PasswordPage;\n}(VPage);\n\nvar RegSuccess =\n/*#__PURE__*/\nfunction (_VPage4) {\n  _inherits(RegSuccess, _VPage4);\n\n  function RegSuccess() {\n    var _this7;\n\n    _classCallCheck(this, RegSuccess);\n\n    _this7 = _possibleConstructorReturn(this, _getPrototypeOf(RegSuccess).apply(this, arguments));\n\n    _this7.page = function () {\n      var _this7$controller = _this7.controller,\n          account = _this7$controller.account,\n          successText = _this7$controller.successText,\n          login = _this7$controller.login;\n      return React.createElement(Page, {\n        header: false\n      }, React.createElement(\"div\", {\n        className: \"container w-max-30c\"\n      }, React.createElement(\"form\", {\n        className: \"my-5\"\n      }, React.createElement(\"div\", {\n        className: \"py-5\"\n      }, \"\\u8D26\\u53F7 \", React.createElement(\"strong\", {\n        className: \"text-primary\"\n      }, account, \" \"), \" \", successText, \"\\uFF01\"), React.createElement(\"button\", {\n        className: \"btn btn-success btn-block\",\n        type: \"button\",\n        onClick: login\n      }, \"\\u76F4\\u63A5\\u767B\\u5F55\"))));\n    };\n\n    return _this7;\n  }\n\n  _createClass(RegSuccess, [{\n    key: \"open\",\n    value: function open() {\n      return __awaiter(this, void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee15() {\n        return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                this.openPage(this.page);\n\n              case 1:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n    }\n  }]);\n\n  return RegSuccess;\n}(VPage);","import _regeneratorRuntime from \"D:\\\\Web\\\\mi\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _classCallCheck from \"D:\\\\Web\\\\mi\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Web\\\\mi\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Web\\\\mi\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Web\\\\mi\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Web\\\\mi\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\Web\\\\mi\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport * as React from 'react';\nimport { nav, Page, Form, resLang } from '../ui';\nimport { RegisterController, ForgetController } from './register';\nimport { userApi } from './userApi';\nimport { loginRes } from './res';\nimport { tonvaTop, getSender } from './tools';\nvar schema = [{\n  name: 'username',\n  type: 'string',\n  required: true,\n  maxLength: 100\n}, {\n  name: 'password',\n  type: 'string',\n  required: true,\n  maxLength: 100\n}, {\n  name: 'login',\n  type: 'submit'\n}];\n\nvar Login =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).apply(this, arguments));\n    _this.res = resLang(loginRes);\n    _this.uiSchema = {\n      items: {\n        username: {\n          placeholder: '手机/邮箱/用户名',\n          label: '登录账号'\n        },\n        password: {\n          widget: 'password',\n          placeholder: '密码',\n          label: '密码'\n        },\n        login: {\n          widget: 'button',\n          className: 'btn btn-primary btn-block mt-3',\n          label: '登录'\n        }\n      }\n    };\n\n    _this.onSubmit = function (name, context) {\n      return __awaiter(_assertThisInitialized(_assertThisInitialized(_this)), void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var values, un, pwd, user, sender, type;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                values = context.form.data;\n                un = values['username'];\n                pwd = values['password'];\n\n                if (!(pwd === undefined)) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", 'something wrong, pwd is undefined');\n\n              case 5:\n                _context.next = 7;\n                return userApi.login({\n                  user: un,\n                  pwd: pwd,\n                  guest: nav.guest\n                });\n\n              case 7:\n                user = _context.sent;\n\n                if (!(user === undefined)) {\n                  _context.next = 12;\n                  break;\n                }\n\n                sender = getSender(un);\n                type = sender !== undefined ? sender.caption : '用户名';\n                return _context.abrupt(\"return\", type + '或密码错！');\n\n              case 12:\n                console.log(\"onLoginSubmit: user=%s pwd:%s\", user.name, user.token);\n                _context.next = 15;\n                return nav.logined(user, this.props.callback);\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n    };\n\n    _this.onEnter = function (name, context) {\n      return __awaiter(_assertThisInitialized(_assertThisInitialized(_this)), void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(name === 'password')) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                _context2.next = 3;\n                return this.onSubmit('login', context);\n\n              case 3:\n                return _context2.abrupt(\"return\", _context2.sent);\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n    };\n\n    _this.clickReg = function () {\n      //nav.replace(<RegisterView />);\n      var register = new RegisterController(undefined);\n      register.start();\n    };\n\n    _this.clickForget = function () {\n      var forget = new ForgetController(undefined);\n      forget.start();\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var footer = React.createElement(\"div\", {\n        className: 'text-center'\n      }, React.createElement(\"button\", {\n        className: \"btn btn-link\",\n        color: \"link\",\n        style: {\n          margin: '0px auto'\n        },\n        onClick: this.clickReg\n      }, \"\\u6CE8\\u518C\\u8D26\\u53F7\"));\n      var header = false;\n\n      if (this.props.withBack === true) {\n        header = '登录';\n      }\n\n      return React.createElement(Page, {\n        header: header,\n        footer: footer\n      }, React.createElement(\"div\", {\n        className: \"d-flex h-100 flex-column justify-content-center align-items-center\"\n      }, React.createElement(\"div\", {\n        className: \"flex-fill\"\n      }), React.createElement(\"div\", {\n        className: \"w-20c\"\n      }, tonvaTop(), React.createElement(\"div\", {\n        className: \"h-2c\"\n      }), React.createElement(Form, {\n        schema: schema,\n        uiSchema: this.uiSchema,\n        onButtonClick: this.onSubmit,\n        onEnter: this.onEnter,\n        requiredFlag: false\n      }), React.createElement(\"button\", {\n        className: \"btn btn-link btn-block\",\n        onClick: function onClick() {\n          return _this2.clickForget();\n        }\n      }, \"\\u5FD8\\u8BB0\\u5BC6\\u7801\")), React.createElement(\"div\", {\n        className: \"flex-fill\"\n      }), React.createElement(\"div\", {\n        className: \"flex-fill\"\n      })));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport { Login as default };"],"sourceRoot":""}