{"version":3,"sources":["consts.ts","images/logo.svg","me/index.tsx","ui/main.tsx","home/VSiteHeader.tsx","home/VSearchHeader.tsx","home/VHome.tsx","home/CHome.tsx","net/httpChannel.ts","net/httpChannelUI.ts","net/apiBase.ts","net/miApi.ts","ui/index.tsx","CMiApp.tsx","ui/mi/index.tsx","App.tsx","registerServiceWorker.ts","index.tsx"],"names":["__webpack_require__","d","__webpack_exports__","consts","uqBasedata","appIcon","miApiHost","miApiHostDebug","isDevelopment","module","exports","p","meTab","LoadableComponent","lib_default","loader","e","then","bind","loading","dist","react","color","selected","VSiteHeader_VSiteHeader","[object Object]","name","left","className","src","logo_default","a","alt","style","height","width","right","undefined","this","controller","renderSearchHeader","VSearchHeader_VSearchHeader","onSearch","key","tslib_es6","param","size","placeholder","VHome_VHome","renderSection","item","index","title","subtitle","content","page","Object","mobx_react_module","openMetaView","onPage","viewMetaButton","renderSiteHeader","isLogined","type","onClick","header","onScrollBottom","headerClassName","onSelect","isSelected","anySelected","renderTestRow","PageItems","width6","width8","items","render","renderRow","onSelected","rowKey","before","rowContent","assign","row","id","code","pe","roe","price","order","toString","toFixed","clickRow","callOnSelected","alert","CHome_HomePageItems","cHome","super","pageSize","firstSize","pageStart","query","user","yearlen","result","cApp","miApi","process","Array","isArray","CHome_CHome","res","more","renderView","renderHome","tab","buildPageItems","vHome","first","httpChannel_HttpChannel","hostUrl","apiToken","ui","startWait","endWait","url","reject","showError","error","timeout","post","params","keys","length","c","k","options","buildOptions","method","innerFetch","body","JSON","stringify","resolve","that","path","buildError","err","channel","console","log","timeOutHandler","setTimeout","fetch","encodeURI","ok","clearTimeout","statusText","ct","headers","get","indexOf","json","retJson","catch","message","text","toLowerCase","startsWith","logout","u","Promise","language","culture","Headers","append","lang","httpChannelUI_HttpChannelNavUI","onError","apiBase_ApiBase","showWaiting","getHttpChannel","callFetch","put","delete","channelUIs","channelNoUIs","miApi_MiApi","basePath","apiName","uqToken","token","channels","channelUI","pbody","call","lodash_default","clone","push","proc","src_ui","appName","CApp","miHost","NODE_ENV","PUBLIC_URL","REACT_APP_CENTER_HOST","REACT_APP_MIDATA_HOST","searchMain","showMain","initTabName","openVPage","VAppMain","vp","open","main","faceTabs","label","icon","notify","map","v","caption","tabs","openPage","uqs","bruce/mi","src_App_0","onLogined","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","react_dom","document","getElementById","URL","origin","addEventListener","response","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.4aef9227.chunk.js","sourcesContent":["export const consts = {\n    uqBasedata: \"bruce/mi\",\n    appIcon: 'http://101.200.46.56/imgs/Bear-icon.png',\n    miApiHost: 'http://106.14.213.254/',\n    miApiHostDebug: 'http://localhost:6010/',\n    isDevelopment: process.env.NODE_ENV === 'development',\n}","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import * as React from 'react';\nimport Loadable from 'react-loadable';\nimport { Loading } from 'tonva';\n\nexport const meTab = () => {\n    let LoadableComponent = Loadable({\n        loader: () => import('./tab'),\n        loading: Loading\n    });\n    return <LoadableComponent />;\n}\n","import * as React from 'react';\nimport { VPage, TabCaptionComponent, Page, Tabs } from 'tonva';\nimport { CMiApp } from '../CMiApp';\nimport { observable } from 'mobx';\nimport { meTab } from '../me';\n\nexport const store = {\n    //homeCount: observable.box<number>(-1),\n    //cartCount: observable.box<number>(101),\n};\n\nconst color = (selected: boolean) => selected === true ? 'text-primary' : 'text-muted';\n\nexport class VHome extends VPage<CMiApp> {\n    async open(param?: any) {\n        this.openPage(this.render);\n    }\n    render = (param?: any): JSX.Element => {\n        let { cHome } = this.controller;\n        let faceTabs = [\n            { name: 'home', label: '首页', icon: 'home', content: cHome.tab, notify: undefined/*store.homeCount*/ },\n            { name: 'me', label: '我的', icon: 'user', content: meTab }\n        ].map(v => {\n            let { name, label, icon, content, notify } = v;\n            return {\n                name: name,\n                caption: (selected: boolean) => TabCaptionComponent(label, icon, color(selected)),\n                content: content,\n                notify: notify,\n            }\n        });\n        return <Page header={false}>\n            <Tabs tabs={faceTabs} />\n        </Page>;\n    }\n}\n","import * as React from 'react';\nimport { View, nav } from 'tonva';\nimport { LMR, FA, SearchBox } from 'tonva';\nimport logo from '../images/logo.svg';\nimport { CHome } from './CHome';\n\nexport class VSiteHeader extends View<CHome> {\n    render() {\n        let currentSalesRegion = <FA name=\"globe\" />\n        let login = <div>\n            登录\n        </div>\n        let left = <img className=\"m-1\" src={logo} alt=\"logo\" style={{height: \"3rem\", width: \"3rem\"}} />;\n        //let cart = this.controller.cApp.cCart.renderCartLabel();\n        let right = undefined;\n        /*\n        <div className=\"d-flex flex-row mr-1 align-items-center\">\n            {currentSalesRegion} &nbsp;\n            <button onClick={()=>nav.start()}>Try</button>\n        </div>;*/\n        return <LMR\n            className=\"mb-3 align-items-center bg-white\"\n            left={left} right={right}>\n            <div className=\"\">\n                {this.controller.renderSearchHeader('md')}\n            </div>\n        </LMR>\n    }\n}","import * as React from 'react';\nimport { View } from 'tonva';\nimport { CHome } from './CHome';\nimport { SearchBox } from 'tonva';\n\nexport class VSearchHeader extends View<CHome> {\n\n    private onSearch = async (key: string) => {\n        // let { cProduct } = this.controller.cApp;\n        // cProduct.start(key);\n    }\n\n    render(param: any) {\n        return <SearchBox className=\"px-1 w-100\" \n            size={param}\n            onSearch={this.onSearch} \n            placeholder=\"功能...\" />\n    }\n}","import * as React from 'react';\nimport { VPage, Page, View, List, LMR } from 'tonva';\nimport { observer } from 'mobx-react';\nimport { CHome } from './CHome';\nimport {observable, IObservableArray, computed} from 'mobx';\n\ninterface CatItem {\n  title: string;\n  sub: string[];\n  img: string;\n}\n\ninterface Cat {\n  caption: string;\n  items?: CatItem[];\n}\n\nconst catItemStyle: React.CSSProperties = {\n  width: '12rem',\n  //height: '6rem', \n  overflow: 'hidden',\n};\nconst subStyle: React.CSSProperties = {\n  fontSize: '0.75rem',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  whiteSpace: 'nowrap'\n};\nconst imgStyle: React.CSSProperties = {\n  //float:'left', clear:'both', \n  height: '1.5rem', width: '1.5rem', opacity: 0.1,\n  marginRight: '0.5rem',\n};\n\nexport class VHome extends View<CHome> {\n  async open(param?: any) {\n    //await this.controller.searchMain('');\n    //this.openPage(this.page);\n  }\n\n  private renderSection = (item: any, index: number) => {\n    return <section>\n      <h4>{item.title}<small className=\"text-muted\">{item.subtitle}</small></h4>\n      <p>{item.content}</p>\n    </section>\n  }\n\n  render(param: any): JSX.Element {\n    return <this.page />\n  }\n\n  private page = observer(() => {\n    let { openMetaView, onPage } = this.controller;\n    let header = this.controller.renderSiteHeader();\n    let viewMetaButton = <></>;\n    if (this.controller.isLogined) {\n      viewMetaButton = <button type=\"button\" className=\"btn w-100\" onClick={openMetaView}>view</button>\n    }\n\n    return <Page header=\"股票\"  onScrollBottom={onPage} \n      headerClassName='bg-primary py-1 px-3'>\n      \n      <this.content />\n    </Page>;\n  })\n\n  private onSelect = (item:any, isSelected:boolean, anySelected:boolean) => {\n\n  }\n\n  private renderTestRow = () => {\n    return <div>ddd</div>\n  }\n\n  private content = observer(() => {\n    let {PageItems} = this.controller;\n    let header = <div className=\"px-3\">\n      <div className=\"px-3\" style={this.width6} />\n      <div className=\"px-3\" style={this.width8}>PE</div>\n      <div className=\"px-3\" style={this.width8}>ROE</div>\n      <div className=\"px-3\" style={this.width8}>PRICE</div>\n    </div>;\n    return <>\n      <List header={header}\n        items={PageItems.items}\n        item={{ render: this.renderRow, onClick: this.onSelected, key: this.rowKey }}\n        before={'搜索' + ' ' + '资料'}\n      />\n    </>\n  });\n\n  renderRow = (item: any, index: number): JSX.Element => <this.rowContent {...item} />;\n  private width6 = {width: '6rem'};\n  private width8 = {width: '8rem'};\n  protected rowContent = (row: any): JSX.Element => {\n    let { id, name, code, pe, roe, price, order } = row as {id:number, name:string, code:string, symbol:string, pe:number, roe:number, price:number, order:number};\n    let left = <div className=\"\" style={this.width6}><span className=\"text-primary\">{name}</span><br/>{code}</div>\n    return <LMR className=\"px-3 py-2\" left={left} right = {order.toString()}>\n      <div className=\"d-flex flex-wrap\">\n        <div className=\"px-3 d-flex\" style={this.width8}>{pe.toFixed(2)}</div>\n        <div className=\"px-3\" style={this.width8}> {(roe * 100).toFixed(2)}</div>\n        <div className=\"px-3\" style={this.width8}> {price.toFixed(2)}</div>\n      </div>\n    </LMR>\n  }\n\n  private rowKey = (item: any) => {\n    let { id } = item;\n    return id;\n  }\n\n  protected onSelected = async (item: any): Promise<void> => {\n    let a = 0;\n  }\n\n  private callOnSelected(item: any) {\n    if (this.onSelected === undefined) {\n      alert('onSelect is undefined');\n      return;\n    }\n    this.onSelected(item);\n  }\n  clickRow = (item: any) => {\n    this.callOnSelected(item);\n  }\n}","import * as React from 'react';\nimport { CTuidMain, nav } from 'tonva';\nimport { VSiteHeader } from './VSiteHeader';\nimport { CMiApp } from '../CMiApp';\nimport { PageItems, Controller } from 'tonva';\nimport { VSearchHeader } from './VSearchHeader';\nimport { VHome } from './VHome';\n\nclass HomePageItems<T> extends PageItems<T> {\n    cHome: CHome;\n    constructor(cHome: CHome) {\n        super(true);\n        this.cHome = cHome;\n        this.pageSize = 30;\n        this.firstSize = 30;\n    }\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\n        let query = {\n            name:'pe',\n            pageStart:pageStart,\n            pageSize:pageSize,\n            user:this.cHome.user.id,\n            yearlen: 1,\n        };\n        let result = await this.cHome.cApp.miApi.process(query, []);\n        if (Array.isArray(result) === false) return [];\n        return result as any[];\n    }\n    protected setPageStart(item: any) {\n        this.pageStart = item === undefined ? 0 : item.order;\n    }\n}\n\nexport class CHome extends Controller {\n    PageItems: PageItems<any>;\n\n    cApp: CMiApp;\n\n    vHome: VHome;\n\n    constructor(cApp: CMiApp, res: any) {\n        super(res);\n\n        this.buildPageItems();\n        this.cApp = cApp;\n        this.vHome = new VHome(this);\n    }\n\n    protected buildPageItems(): PageItems<any> {\n        return this.PageItems = new HomePageItems<any>(this);\n    }\n\n    onPage = () => {\n        this.PageItems.more();\n    }\n\n    async searchMain(key: string) {\n        if (this.PageItems === undefined) {\n            this.PageItems = this.buildPageItems();\n        }\n        if (key !== undefined) await this.PageItems.first(key);\n    }\n\n    async internalStart(param: any) {\n        //this.openVPage(VHome);\n    }\n\n    renderSiteHeader = () => {\n        return this.renderView(VSiteHeader);\n    }\n\n    renderSearchHeader = (size?: string) => {\n        return this.renderView(VSearchHeader, size);\n    }\n\n    \n    renderHome = () => {\n        //return this.vHome.render(undefined);\n        return this.renderView(VHome);\n    }\n    \n\n    openMetaView = () => {\n    }\n\n    tab = () => <this.renderHome />;\n}","import {FetchError} from './fetchError';\nimport {HttpChannelUI} from './httpChannelUI';\nimport {nav} from 'tonva';\nimport { consts } from '../consts';\n\nexport async function httpGet(url:string, params?:any):Promise<any> {\n    let channel = new HttpChannel(url, undefined, undefined);\n    let ret = await channel.get('', params);\n    return ret;\n}\n\nexport async function httpPost(url:string, params?:any):Promise<any> {\n    let channel = new HttpChannel(url, undefined, undefined);\n    let ret = await channel.post('', params);\n    return ret;\n}\n\nexport class HttpChannel {\n    private hostUrl: string;\n    private apiToken: string;\n    private ui?: HttpChannelUI;\n    private timeout: number;\n\n    constructor(hostUrl: string, apiToken:string, ui?: HttpChannelUI) {\n        this.hostUrl = hostUrl;\n        this.apiToken = apiToken;\n        this.ui = ui;\n        this.timeout = consts.isDevelopment === true? 500000:5000;\n    }\n\n    private startWait = () => {\n        if (this.ui !== undefined) this.ui.startWait();\n    }\n\n    private endWait = (url?:string, reject?:(reason?:any)=>void) => {\n        if (this.ui !== undefined) this.ui.endWait();\n        if (reject !== undefined) reject('访问webapi超时 ' + url);\n    }\n\n    private showError = async (error:FetchError) => {\n        if (this.ui !== undefined) await this.ui.showError(error);\n    }\n\n    used() {\n        this.post('', {});\n    }\n\n    async get(url: string, params: any = undefined): Promise<any> {\n        if (params) {\n            let keys = Object.keys(params);\n            if (keys.length > 0) {\n                let c = '?';\n                for (let k of keys) {\n                    let v = params[k];\n                    if (v === undefined) continue;\n                    url += c + k + '=' + params[k];\n                    c = '&';\n                }\n            }\n        }\n        let options = this.buildOptions();\n        options.method = 'GET';\n        return await this.innerFetch(url, options);\n    }\n\n    async post(url: string, params: any): Promise<any> {\n        let options = this.buildOptions();\n        options.method = 'POST';\n        options.body = JSON.stringify(params);\n        return await this.innerFetch(url, options);\n    }\n\n    async put(url: string, params: any): Promise<any> {\n        let options = this.buildOptions();\n        options.method = 'PUT';\n        options.body = JSON.stringify(params);\n        return await this.innerFetch(url, options);\n    }\n\n    async delete(url: string, params: any): Promise<any> {\n        let options = this.buildOptions();\n        options.method = 'DELETE';\n        options.body = JSON.stringify(params);\n        return await this.innerFetch(url, options);\n    }\n    async fetch(url: string, options: any, resolve:(value?:any)=>any, reject:(reason?:any)=>void):Promise<void> {\n        let that = this;\n        this.startWait();\n        let path = url;\n        function buildError(err: string) {\n            return {\n                channel: that,\n                url: path,\n                options: options,\n                resolve: resolve,\n                reject: reject,\n                error: err,\n            }\n        }\n        try {\n            console.log('%s %s', options.method, path);\n            let timeOutHandler = setTimeout(() => that.endWait(url, reject), this.timeout);\n            let res = await fetch(encodeURI(path), options);\n            if (res.ok === false) {\n                clearTimeout(timeOutHandler);\n                that.endWait();\n                console.log('call error %s', res.statusText);\n                throw res.statusText;\n            }\n            let ct = res.headers.get('content-type');\n            if (ct && ct.indexOf('json')>=0) {\n                return res.json().then(async retJson => {\n                    clearTimeout(timeOutHandler);\n                    that.endWait();\n                    if (retJson.ok === true) {\n                        return resolve(retJson.res);\n                    }\n                    if (retJson.error === undefined) {\n                        await that.showError(buildError('not valid tonva json'));\n                    }\n                    else {\n                        await that.showError(buildError(retJson.error));\n                        reject(retJson.error);\n                    }\n                    //throw retJson.error;\n                }).catch(async error => {\n                    await that.showError(buildError(error.message));\n                });\n            }\n            else {\n                let text = await res.text();\n                clearTimeout(timeOutHandler);\n                that.endWait();\n                resolve(text);\n            }\n        }\n        catch(error) {\n            if (typeof error === 'string') {\n                if (error.toLowerCase().startsWith('unauthorized') === true) {\n                    nav.logout();\n                    return;\n                }\n            }\n            await this.showError(buildError(error.message));\n        };\n    }\n\n    private async innerFetch(url: string, options: any): Promise<any> {\n        let u = this.hostUrl + url;\n        return await new Promise<any>(async (resolve, reject) => {\n            await this.fetch(u, options, resolve, reject);\n        });\n    }\n\n    async callFetch(url:string, method:string, body:any):Promise<any> {\n        let options = this.buildOptions();\n        options.method = method;\n        options.body = body;\n        return await new Promise<any>(async (resolve, reject) => {\n            await this.fetch(url, options, resolve, reject);\n        });\n    }\n\n    private buildOptions(): any {\n        let {language, culture} = nav;\n        let headers = new Headers();\n        //headers.append('Access-Control-Allow-Origin', '*');\n        headers.append('Content-Type', 'application/json;charset=UTF-8');\n        let lang = language;\n        if (culture) lang += '-' + culture;\n        headers.append('Accept-Language', lang);\n        if (this.apiToken) { \n            headers.append('Authorization', this.apiToken); \n        }\n        let options = {\n            headers: headers,\n            // cache: 'no-cache',\n        };\n        return options;\n    }\n}\n","import {nav} from 'tonva';\n\nexport interface HttpChannelUI {\n    startWait():void;\n    endWait():void;\n    showError(error:any):Promise<void>;\n}\n\nexport class HttpChannelNavUI implements HttpChannelUI {\n    startWait() {\n        nav.startWait();\n    }\n    endWait() {\n        nav.endWait();\n    }\n    async showError(error:any):Promise<void> {\n        nav.endWait();\n        /*\n        if (error.name === 'SyntaxError') {\n            error = {\n                name: error.name,\n                message: error.message,\n            }\n        }*/\n        await nav.onError(error);\n    }\n}\n\n","//import {isDevelopment} from '../local';\nimport {HttpChannel} from './httpChannel';\n\nexport async function refetchApi(channel:HttpChannel, url, options, resolve, reject) {\n    await channel.fetch(url, options, resolve, reject);\n}\n\nexport abstract class ApiBase {\n    protected token: string;\n    protected path: string;\n    protected showWaiting: boolean;\n\n    constructor(path: string, showWaiting: boolean) {\n        this.path = path || '';\n        this.showWaiting = showWaiting;\n    }\n\n    protected abstract async getHttpChannel(): Promise<HttpChannel>;\n\n    public async call(url:string, method:string, body:any):Promise<any> {\n        let channel = await this.getHttpChannel();\n        return await channel.callFetch(url, method, body);\n    }\n\n    public async get(path:string, params:any=undefined): Promise<any> {\n        let channel = await this.getHttpChannel();\n        return await channel.get(this.path + path, params);\n    }\n\n    public async post(path:string, params:any): Promise<any> {\n        let channel = await this.getHttpChannel();\n        return await channel.post(this.path + path, params);\n    }\n\n    public async put(path:string, params:any): Promise<any> {\n        let channel = await this.getHttpChannel();\n        return await channel.put(this.path + path, params);\n    }\n\n    public async delete(path:string, params:any): Promise<any> {\n        let channel = await this.getHttpChannel();\n        return await channel.delete(this.path + path, params);\n    }\n}\n","import _ from 'lodash';\nimport { HttpChannel } from './httpChannel';\nimport { HttpChannelNavUI } from './httpChannelUI';\nimport { ApiBase } from './apiBase';\n\nlet channelUIs: { [name: string]: HttpChannel } = {};\nlet channelNoUIs: { [name: string]: HttpChannel } = {};\n\nexport class MiApi extends ApiBase {\n  private apiName: string;\n  url: string;\n\n  constructor(url: string, basePath: string, apiName: string, uqToken: string, showWaiting?: boolean) {\n    super(basePath, showWaiting);\n    this.showWaiting = showWaiting;\n    this.apiName = apiName;\n    this.token = uqToken;\n    this.url = url;\n  }\n\n  protected async getHttpChannel(): Promise<HttpChannel> {\n    let channels: { [name: string]: HttpChannel };\n    let channelUI: HttpChannelNavUI;\n    if (this.showWaiting === true || this.showWaiting === undefined) {\n      channels = channelUIs;\n      channelUI = new HttpChannelNavUI();\n    }\n    else {\n      channels = channelNoUIs;\n    }\n    let channel = channels[this.apiName];\n    if (channel !== undefined) return channel;\n    channel = new HttpChannel(this.url, this.token, channelUI);\n    return channels[this.apiName] = channel;\n  }\n\n  async query(name: string, params: any[]): Promise<any> {\n    let pbody = { call: name, params: params };\n    let ret = await this.post('sql/call', pbody);\n    return ret;\n  }\n\n  async page(name: string, params: any[], pageStart: number, pageSize: number): Promise<any> {\n    let p: any[];\n    switch (typeof params) {\n      case 'undefined': p = []; break;\n      default: p = _.clone(params); break;\n    }\n    p.push(pageStart);\n    p.push(pageSize);\n    let pbody = { call: name, params: p };\n    return await this.post('sql/call', pbody);\n  }\n\n  async process(proc: any, params: any[]): Promise<any> {\n    let pbody = { proc: proc, params: params };\n    return await this.post('sql/query', pbody);\n  }\n}\n","import { AppUI, CApp } from \"tonva\";\nimport { VHome } from './main';\nimport { CMiApp } from '../CMiApp';\nimport miUI from './mi';\n\nconst ui: AppUI = {\n    appName: \"bruce/mi\",\n    CApp: CMiApp,\n    main: VHome,\n    uqs: {\n        'bruce/mi': miUI\n    }\n}\n\nexport default ui;\n","import * as React from 'react';\nimport { CApp, CUq, Controller, VPage } from 'tonva';\nimport { CHome } from './home';\nimport { consts } from './consts';\nimport { MiApi } from './net';\nimport {nav} from 'tonva';\n\nexport class CMiApp extends CApp {\n  cHome: CHome;\n  miApi: MiApi;\n\n  protected async internalStart() {\n    if (this.isLogined) {\n    }\n\n    let n = nav;\n\n    let token = this.user.token;\n\n    let miHost = consts.isDevelopment ? consts.miApiHostDebug : consts.miApiHost;\n    this.miApi = new MiApi(miHost, 'fsjs/', 'miapi', token, false);\n    this.cHome = new CHome(this, undefined);\n    let params = [];\n    //let ret = await this.miApi.page('q_stocksquery', params, 0, 100);\n    let env = process.env;\n    this.cHome.searchMain('');\n    this.showMain();\n  }\n\n  showMain(initTabName?: string) {\n    this.openVPage(this.VAppMain, initTabName);\n  }\n\n  public async showOneVPage(vp: new (coordinator: Controller) => VPage<Controller>, param?: any): Promise<void> {\n    await (new vp(this)).open(param);\n  }\n\n  protected onDispose() {\n  }\n}\n","import { UqUI } from 'tonva';\n\nconst uqUI:UqUI = {\n}\n\n\nconst uqUIs = uqUI;\n/*\n{\n    $: uqUI,\n    \"aa-bb\": aa_BB_UsqUI,\n}\n*/\nexport default uqUIs;\n","import * as React from 'react';\nimport './App.css';\nimport { NavView, nav, Page, Tabs } from 'tonva';\nimport { startApp } from 'tonva';\nimport ui from './ui';\n//import { faceTabs } from 'facetabs';\n\nclass App extends React.Component {\n\n  private onLogined = async () => {\n    await startApp(ui);\n    /*\n    let page = <Page header={false}>\n      <Tabs tabs={faceTabs} />\n    </Page>\n    nav.push(page);\n    */\n    //let b = new B('b');\n    //await b.d();\n    //nav.push(<div>ddd</div>)\n  }\n  public render() {\n    return <NavView onLogined={this.onLogined} />\n  }\n}\n\nexport default App;","// tslint:disable:no-console\n// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the 'N+1' visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL!,\n      window.location.toString()\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker) {\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the old content will have been purged and\n                // the fresh content will have been added to the cache.\n                // It's the perfect time to display a 'New content is\n                // available; please refresh.' message in your web app.\n                console.log('New content is available; please refresh.');\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // 'Content is cached for offline use.' message.\n                console.log('Content is cached for offline use.');\n              }\n            }\n          };\n        }\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type')!.indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nimport App from './App';\nimport './index.css';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root') as HTMLElement\n);\nregisterServiceWorker();\n"],"sourceRoot":""}